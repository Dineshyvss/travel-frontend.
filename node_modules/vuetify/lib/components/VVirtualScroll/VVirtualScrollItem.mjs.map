{"version":3,"file":"VVirtualScrollItem.mjs","names":["makeComponentProps","useResizeObserver","useToggleScope","genericComponent","propsFactory","useRender","onUpdated","watch","makeVVirtualScrollItemProps","dynamicHeight","Boolean","VVirtualScrollItem","name","props","emits","height","setup","_ref","emit","slots","resizeRef","contentRect","value","updateHeight","_createVNode","undefined","class","style","default"],"sources":["../../../src/components/VVirtualScroll/VVirtualScrollItem.tsx"],"sourcesContent":["// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { useResizeObserver } from '@/composables/resizeObserver'\nimport { useToggleScope } from '@/composables/toggleScope'\n\n// Utilities\nimport { genericComponent, propsFactory, useRender } from '@/util'\nimport { onUpdated, watch } from 'vue'\n\nexport const makeVVirtualScrollItemProps = propsFactory({\n  dynamicHeight: Boolean,\n\n  ...makeComponentProps(),\n}, 'v-virtual-scroll-item')\n\nexport const VVirtualScrollItem = genericComponent()({\n  name: 'VVirtualScrollItem',\n\n  props: makeVVirtualScrollItemProps(),\n\n  emits: {\n    'update:height': (height: number) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const { resizeRef, contentRect } = useResizeObserver()\n\n    useToggleScope(() => props.dynamicHeight, () => {\n      watch(() => contentRect.value?.height, height => {\n        if (height != null) emit('update:height', height)\n      })\n    })\n\n    function updateHeight () {\n      if (props.dynamicHeight && contentRect.value) {\n        emit('update:height', contentRect.value.height)\n      }\n    }\n\n    onUpdated(updateHeight)\n\n    useRender(() => (\n      <div\n        ref={ props.dynamicHeight ? resizeRef : undefined }\n        class={[\n          'v-virtual-scroll__item',\n          props.class,\n        ]}\n        style={ props.style }\n      >\n        { slots.default?.() }\n      </div>\n    ))\n  },\n})\n"],"mappings":";AAAA;AAAA,SACSA,kBAAkB;AAAA,SAClBC,iBAAiB;AAAA,SACjBC,cAAc,6CAEvB;AAAA,SACSC,gBAAgB,EAAEC,YAAY,EAAEC,SAAS;AAClD,SAASC,SAAS,EAAEC,KAAK,QAAQ,KAAK;AAEtC,OAAO,MAAMC,2BAA2B,GAAGJ,YAAY,CAAC;EACtDK,aAAa,EAAEC,OAAO;EAEtB,GAAGV,kBAAkB;AACvB,CAAC,EAAE,uBAAuB,CAAC;AAE3B,OAAO,MAAMW,kBAAkB,GAAGR,gBAAgB,EAAE,CAAC;EACnDS,IAAI,EAAE,oBAAoB;EAE1BC,KAAK,EAAEL,2BAA2B,EAAE;EAEpCM,KAAK,EAAE;IACL,eAAe,EAAGC,MAAc,IAAK;EACvC,CAAC;EAEDC,KAAKA,CAAEH,KAAK,EAAAI,IAAA,EAAmB;IAAA,IAAjB;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAAF,IAAA;IAC3B,MAAM;MAAEG,SAAS;MAAEC;IAAY,CAAC,GAAGpB,iBAAiB,EAAE;IAEtDC,cAAc,CAAC,MAAMW,KAAK,CAACJ,aAAa,EAAE,MAAM;MAC9CF,KAAK,CAAC,MAAMc,WAAW,CAACC,KAAK,EAAEP,MAAM,EAAEA,MAAM,IAAI;QAC/C,IAAIA,MAAM,IAAI,IAAI,EAAEG,IAAI,CAAC,eAAe,EAAEH,MAAM,CAAC;MACnD,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,SAASQ,YAAYA,CAAA,EAAI;MACvB,IAAIV,KAAK,CAACJ,aAAa,IAAIY,WAAW,CAACC,KAAK,EAAE;QAC5CJ,IAAI,CAAC,eAAe,EAAEG,WAAW,CAACC,KAAK,CAACP,MAAM,CAAC;MACjD;IACF;IAEAT,SAAS,CAACiB,YAAY,CAAC;IAEvBlB,SAAS,CAAC,MAAAmB,YAAA;MAAA,OAEAX,KAAK,CAACJ,aAAa,GAAGW,SAAS,GAAGK,SAAS;MAAA,SAC1C,CACL,wBAAwB,EACxBZ,KAAK,CAACa,KAAK,CACZ;MAAA,SACOb,KAAK,CAACc;IAAK,IAEjBR,KAAK,CAACS,OAAO,IAAI,EAEtB,CAAC;EACJ;AACF,CAAC,CAAC"}